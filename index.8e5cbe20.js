!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("jW6gh"),a("kLFG7"),a("f4zPK");var r=a("hM3Qt"),i=a("cHsZg");const o=document.querySelector(".container__upcoming");function s(e){const t=e.target.dataset.movieid;(0,i.addMovieToLibrary)(t)}async function l(e){const t=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${r.KEY}&language=en-US`),n=await t.json();return e.map((e=>n.genres.find((t=>t.id===e)).name)).join(", ")}!async function(){try{const e=(await fetch(`${r.UPCOMING_URL}?api_key=${r.KEY}&language=en-US&page=1`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))).results;if(e.length>=1){const t=e[Math.floor(Math.random()*e.length)],n=await l(t.genre_ids),a=await async function({id:e,poster_path:t,backdrop_path:n,title:a,overview:r,popularity:i,vote_average:o,vote_count:s,release_date:c,genre_ids:d}){const u=await l(d);return`\n    \n <div class="upcoming__card">\n <div class="upcoming__thumb">\n      \n      <picture class='upcoming__poster'>\n      <source srcset="https://image.tmdb.org/t/p/original/${n}" media="(min-width: 1200px)" class='upcoming__poster-desktop' loading="lazy"/>\n      <source srcset="https://image.tmdb.org/t/p/original/${n}" media="(min-width: 768px)" class='upcoming__poster-tablet' loading="lazy"/>\n      <source srcset="https://image.tmdb.org/t/p/original/${t}" media="(min-width: 320px)" loading="lazy"/>\n      <img src="https://image.tmdb.org/t/p/original/${t}" alt="Movie Poster" style='width: 805px' loading="lazy"/>\n    </picture>\n      </div>\n      </div>\n\n<div class="upcoming__info">\n            <h2 class="upcoming__info--title">${a}</h2>\n            <div class="upcoming__movie">\n                <div class="upcoming__info--left">\n                    <div class="upcoming__info--release">\n                        <p class="upcoming__text"> <span class ="upcoming__light--black">Release date</span> <span class="upcoming__info--release--date">${c}</span></p>\n                    </div>\n                    <div class="upcoming__info--vote">\n                        <p class="upcoming__text"><span class ="upcoming__light--black">Vote/Votes</span>\n                        <div class="upcoming__info--votes"><span class="upcoming__info--white">${o}</span> <span\n                                class="slash">/</span>\n                            <span class="upcoming__info--white">\n                               ${s}</span>\n                        </div>\n                        </p>\n                    </div>\n                </div>\n                <div class="upcoming__info--right">\n                    <div class="upcoming__info--pop">\n                        <p class="upcoming__text"> <span class ="upcoming__light--black">Popularity</span> <span class="upcoming__info--pop--range">${i}</span> </p>\n                    </div>\n                    <div class="upcoming__info--genre">\n                        <p class="upcoming__text"><span class ="upcoming__light--black">Genre</span> <span class="upcoming__info--genre--kind">${u}</span> </p>\n                    </div>\n                </div>\n            </div>\n            <h2 class="upcoming__info--about">ABOUT</h2>\n\n            <p class="upcoming__info--description">${r}</p>\n            <button class="upcoming__remindme--btn" data-movieid=${e}  type="button">Add to Library</button>\n        </div>\n\n   \n     `}({...t,genreNames:n});o.insertAdjacentHTML("beforeend",a),document.querySelector(".upcoming__remindme--btn").addEventListener("click",s)}}catch(e){console.log(e)}}();var c=a("b7ONl"),d={};d=function e(t,n,a){function r(o,s){if(!n[o]){if(!t[o]){var l=void 0;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,(function(e){return r(t[o][1][e]||e)}),d,d.exports,e,t,n,a)}return n[o].exports}for(var i=void 0,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},r=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=i,n.create=function(e,t){var n=function(e,t){var n=a('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return i.appendChild(e)}));var o=r(i,"IMG"),s=r(i,"VIDEO"),l=r(i,"IFRAME");return!0===o&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===l&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(a(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),o=function(e){return!1!==t.onClose(s)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(s)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&o()}));var s={element:function(){return n},visible:function(){return i(n)},show:function(e){return!1!==t.onShow(s)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(s)}))},close:o};return s}},{}]},{},[1])(1);var u=a("7F964");const p=document.querySelector(".hero");!async function(){try{const{results:e}=await(0,c.getDayTrending)(1),t=e[Math.floor(Math.random()*e.length)];!function(e){let t="";switch(Math.round(e.vote_average)){case 0:t=`${u.emptyStar.repeat(5)}`;break;case 1:t=`${u.halfStar}${u.emptyStar.repeat(4)}`;break;case 2:t=`${u.fullStar}${u.emptyStar.repeat(4)}`;break;case 3:t=`${u.fullStar}${u.halfStar}${u.emptyStar.repeat(3)}`;break;case 4:t=`${u.fullStar.repeat(2)}${u.emptyStar.repeat(3)}`;break;case 5:t=`${u.fullStar.repeat(2)}${u.halfStar}${u.emptyStar.repeat(2)}`;break;case 6:t=`${u.fullStar.repeat(3)}${u.emptyStar.repeat(2)}`;break;case 7:t=`${u.fullStar.repeat(3)}${u.halfStar}${u.emptyStar}`;break;case 8:t=`${u.fullStar.repeat(4)}${u.emptyStar}`;break;case 9:t=`${u.fullStar.repeat(4)}${u.halfStar}`;break;case 10:t=`${u.fullStar.repeat(5)}`;break;default:throw new Error("Invalid rating")}const n=`\n    <div class="hero-wrap">\n      <div class="thumb">\n        <div class="background-image">\n          <img src="https://image.tmdb.org/t/p/original${e.backdrop_path}" alt="Hero image" class="backend" loading="lazy" />\n        </div>\n        <div class="hero-wrap__content">\n          <h1 class="title">${e.title||e.name}</h1>\n          <div class='start-rate__hero'>\n            ${t}\n          </div> \n          <p class="description">${e.overview}</p>\n          <button class="watch-trailer__btn" id="trailer-btn" data-btn="trailer-fail">Watch trailer</button>\n        </div>\n      </div>\n    </div>\n  `;p.innerHTML=n}(t);document.getElementById("trailer-btn").addEventListener("click",(async()=>{try{const e=(await(0,c.getVideos)(t.id)).find((e=>"Official Trailer"===e.name));if(!e)throw new Error("Trailer not found");const n=e.key;d.create(`\n          <iframe class="iframe" src="https://www.youtube.com/embed/${n}" width="560" height="315" frameborder="0"></iframe>\n        `).show((()=>console.log("lightbox now visible")))}catch(e){d.create('\n          <div class="notification-trailer-fail">\n            <p class="notification-trailer-fail-text">OOPS...<br/> We are very sorry!<br /> But we couldnâ€™t find the trailer.</p>\n            <button type="button" class="btn-close"><svg class="btn-close--svg" width=24 height=24>\n            <use href=\'../../img/sprite.svg#icon-x-button\'></use>\n        </svg>\n      </button>\n            <div class="bg-box"></div>\n          </div>\n        ').show((()=>console.log("lightbox now visible")))}}))}catch(e){console.log(e)}}(),a("cs7FV"),a("8vL8o");var f=a("dIxxU");r=a("hM3Qt"),u=a("7F964");const g=document.querySelector(".gallery-weekly__list");async function m(){return{genres:await async function(){const{data:e}=await f.default.get(`${r.BASE_URL}/genre/movie/list?api_key=${r.KEY}`);return e}().then((({genres:e})=>e))}}function h(e){m().then((({genres:t})=>{if(e){e.forEach((e=>{const{genre_ids:n,release_date:a}=e;t.forEach((({name:t,id:r})=>{n.includes(r)&&(n.length>2&&n.splice(2,n.length-1),n.splice(n.indexOf(r),1,t)),e.genre_names=n.join(", "),e.release_date&&(e.release_date=a.slice(0,4))}))}));const n=function(e){return e.slice(0,3).map((({original_title:e,release_date:t,genre_ids:n,poster_path:a,vote_average:i,id:o})=>{let s="";a&&(s=`${r.IMG_BASE_URL}${r.IMG_W400}${a}`);let l="";switch(Math.round(i)){case 0:l=`${u.emptyStar.repeat(5)}`;break;case 1:l=`${u.halfStar}${u.emptyStar.repeat(4)}`;break;case 2:l=`${u.fullStar}${u.emptyStar.repeat(4)}`;break;case 3:l=`${u.fullStar}${u.halfStar}${u.emptyStar.repeat(3)}`;break;case 4:l=`${u.fullStar.repeat(2)}${u.emptyStar.repeat(3)}`;break;case 5:l=`${u.fullStar.repeat(2)}${u.halfStar}${u.emptyStar.repeat(2)}`;break;case 6:l=`${u.fullStar.repeat(3)}${u.emptyStar.repeat(2)}`;break;case 7:l=`${u.fullStar.repeat(3)}${u.halfStar}${u.emptyStar}`;break;case 8:l=`${u.fullStar.repeat(4)}${u.emptyStar}`;break;case 9:l=`${u.fullStar.repeat(4)}${u.halfStar}`;break;case 10:l=`${u.fullStar.repeat(5)}`;break;default:throw new Error("Invalid rating")}return` <li class='gallery-weekly__list-elem hover-cursor' data-id='${o}'>           \n        <img class='gallery-weekly__image' src="${s}" alt="${e}" loading="lazy" data-id='${o}'>\n       <div class='gallery-weekly__all-info'> \n        <div class="gallery-weekly__info">\n            <h2 class= 'gallery-weekly__title'>${e}</h2>\n            <div class='cards-list_second_line'>\n              <div class='cards-list__text'>\n                <p>${n} | ${t}</p>\n              </div>\n            </div>\n        </div>\n        <div class='star-rate'>\n        ${l}\n</div>\n      </div>\n    </li>`})).join("")}(e);g&&(g.innerHTML=n)}}))}f.default.get("https://api.themoviedb.org/3/trending/movie/week?api_key=249f222afb1002186f4d88b2b5418b55").then((e=>e.data)).then((({results:e})=>h(e)))}();
//# sourceMappingURL=index.8e5cbe20.js.map
