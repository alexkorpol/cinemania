{"mappings":"khBAEA,MAAMA,EAAW,2DAFjBC,EAAA,SAE4EC,aACtEC,EAAU,uCAKPC,MAAMJ,GACVK,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,KAUV,SAA2BA,GACzB,IACE,GAAIA,EAAM,CACRC,QAAQC,IAAIF,GACZ,MAAMG,EAAkBH,EAAKI,QAAQC,OAAS,EAC9CJ,QAAQC,IAAIC,GAEZ,MAAMG,EAAcC,KAAKC,OAgBNC,EAhB4B,EAgBvBC,EAhB0BP,EAiB/CI,KAAKI,UAAYD,EAAMD,GAAOA,IAhBjCR,QAAQC,IAAII,GAEZ,MAAMM,EAAOZ,EAAKI,QAAQE,GAC1BL,QAAQC,IAAIU,GAEZC,EAAcC,UAAY,GAchC,SAAoBF,GAClBC,EAAcC,UAAY,wDACEF,EAAKG,4CACJH,EAAKI,mDACJJ,EAAKK,4HAKnCC,OAAOC,iBAAiB,OAAQC,EAAkBR,IAClDM,OAAOC,iBAAiB,SAAUC,EAAkBR,GACtD,CAxBMS,CAAWT,EACb,CACF,CAAE,MAAOU,GACPrB,QAAQC,IAAIoB,GACZC,EAAOC,UAAUC,OAAO,mBACxBF,EAAOC,UAAUE,IAAI,gBACvB,CAGF,IAAyBjB,EAAKC,CAF9B,CA9BMiB,CAAkB3B,EAAA,IAEnB4B,OAAMN,GAASrB,QAAQC,IAAIoB,KAGhC,MAAMC,EAASM,SAASC,KAAKC,cAAc,SACrClB,EAAgBgB,SAASC,KAAKC,cAAc,oBAC5CC,EAAWH,SAASC,KAAKC,cAAc,oBA0C7C,SAASX,EAAkBR,GACzB,MAAMqB,EAAcf,OAAOgB,WAEvBD,GAAe,IACjBD,EAASG,MAAMC,gBAAkB,8EAA8EzC,IAAUiB,EAAKyB,kBACrHJ,GAAe,IACxBD,EAASG,MAAMC,gBAAkB,QAAQzC,IAAUiB,EAAKyB,kBAC/CJ,GAAe,OACxBD,EAASG,MAAMC,gBAAkB,SAASzC,IAAUiB,EAAKyB,kBAE7D,C","sources":["src/js/hero.js"],"sourcesContent":["import { KEY } from './api-key';\n\nconst BASE_URL = `https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}&page=1`;\nconst IMG_URL = 'https://image.tmdb.org/t/p/original/';\n\nfetchMovieOfTheDay();\n\nfunction fetchMovieOfTheDay() {\n  return fetch(BASE_URL)\n    .then(response => response.json())\n    .then(data => {\n      makeMovieOfTheDay(data);\n    })\n    .catch(error => console.log(error));\n}\n\nconst heroEl = document.body.querySelector('.hero');\nconst heroContainer = document.body.querySelector('.hero__container');\nconst heroFilm = document.body.querySelector('.hero__with-film');\n\nfunction makeMovieOfTheDay(data) {\n  try {\n    if (data) {\n      console.log(data);\n      const valueOfElements = data.results.length - 1;\n      console.log(valueOfElements);\n\n      const movieNumber = Math.round(getRandomNumber(0, valueOfElements));\n      console.log(movieNumber);\n\n      const film = data.results[movieNumber];\n      console.log(film);\n\n      heroContainer.innerHTML = '';\n      makeMarkup(film);\n    }\n  } catch (error) {\n    console.log(error);\n    heroEl.classList.remove('hero__with-film');\n    heroEl.classList.add('hero__default');\n  }\n}\n\nfunction getRandomNumber(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nfunction makeMarkup(film) {\n  heroContainer.innerHTML = `<div class=\"hero__box\">\n    <h2 class=\"hero__title\">${film.title}</h2>\n    <p class=\"rating__value\">${film.vote_average}</p>\n    <p class=\"hero__overview\">${film.overview}</p>\n    <button class=\"hero__btn \">Watch trailer</button></div>\n    <div class=\"hero__background\"></div>\n    `;\n\n  window.addEventListener('load', setHeroBackground(film));\n  window.addEventListener('resize', setHeroBackground(film));\n}\n\nfunction setHeroBackground(film) {\n  const windowWidth = window.innerWidth;\n\n  if (windowWidth <= 768) {\n    heroFilm.style.backgroundImage = `linear-gradient(87.8deg, #0e0e0e 15.61%, rgba(14, 14, 14, 0) 60.39%), url('${IMG_URL}${film.backdrop_path}')`;\n  } else if (windowWidth >= 769) {\n    heroFilm.style.backgroundImage = `url('${IMG_URL}${film.backdrop_path}')`;\n  } else if (windowWidth >= 1200) {\n    heroFilm.style.backgroundImage = ` url('${IMG_URL}${film.backdrop_path}')`;\n  }\n}\n\n// ================== rating ==================\n\n// const ratings = document.querySelectorAll('.rating');\n// if (ratings.length > 0) {\n//     initRatings();\n// }\n\n// function initRatings() {\n//     let ratingActive, ratingValue;\n//     for ( let i = 0; i <ratings.length; i ++){\n//         const rating = ratings[i];\n//         initRatings(rating);\n\n// }function initRatings(rating){\n// initRatingsCons(rating);\n\n// setRatingActiveWidth();\n// }\n\n// function initRatingsCons(rating) {\n//     ratingActive = rating.querySelector('.rating__active');\n//     ratingValue = rating.querySelector('.rating__value');\n\n// }\n\n// function setRatingActiveWidth(i = ratingValue.innerHTML){\n//     const ratingActiveWidth = i /0.10;\n//     ratingActive.style.width = `${ratingActiveWidth}%`;\n// }\n// }\n"],"names":["$c519d076f6352209$var$BASE_URL","parcelRequire","KEY","$c519d076f6352209$var$IMG_URL","fetch","then","response","json","data","console","log","valueOfElements","results","length","movieNumber","Math","round","min","max","random","film","$c519d076f6352209$var$heroContainer","innerHTML","title","vote_average","overview","window","addEventListener","$c519d076f6352209$var$setHeroBackground","$c519d076f6352209$var$makeMarkup","error","$c519d076f6352209$var$heroEl","classList","remove","add","$c519d076f6352209$var$makeMovieOfTheDay","catch","document","body","querySelector","$c519d076f6352209$var$heroFilm","windowWidth","innerWidth","style","backgroundImage","backdrop_path"],"version":3,"file":"catalog.e5dd31f4.js.map"}