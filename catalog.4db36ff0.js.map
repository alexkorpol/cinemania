{"mappings":"sgBAAA,IAAAA,EAAAC,EAAA,S,aAKAC,eAAeC,IACb,MACMC,EAAaC,KAAKC,MADP,EACaD,KAAKE,UAAuB,EACpDC,EAAM,GAAGC,EAAAC,mCAAmCD,EAAAE,YAAYP,IACxDQ,QAAiBZ,EAAAa,QAAMC,IAAIN,GAKjC,OAHEI,EAASG,KAAKC,QACZX,KAAKC,MAAMD,KAAKE,SAAWK,EAASG,KAAKC,QAAQC,QAGvD,CAQAf,eAAegB,IACb,MAAMC,QAAchB,IACdiB,QARRlB,iBACE,MAAMM,EAAM,GAAGC,EAAAC,qCAAqCD,EAAAE,MAEpD,aADuBX,EAAAa,QAAMC,IAAIN,IACjBO,KAAKK,MACvB,CAIuBC,GACfC,EAAaH,EAAMI,UACtBC,KAAIC,IACH,MAAMC,EAAQN,EAAOO,MAAKC,GAAKA,EAAEH,KAAOA,IACxC,OAAOC,EAAQA,EAAMG,KAAO,EAAE,IAE/BC,KAAK,MAEFC,EAAY,uNAKkCZ,EAAMa,6CAA6Cb,EAAMc,iGAG/Ed,EAAMc,iHAGad,EAAMe,oGACgBf,EAAMgB,6BAA6BhB,EAAMiB,0GAG5DjB,EAAMkB,qEAChBf,gIAIFH,EAAMmB,kIAM9BC,SAASC,cAAc,oBAC/BC,UAAYV,CACtB,EAEA7B,iBACE,MAAMU,EAAWT,IACjBe,SAA0BN,GAAUG,KACtC,CACA2B,E","sources":["src/js/home.js"],"sourcesContent":["import axios from 'axios';\nimport { KEY,BASE_URL } from './api-key';\n\n\n\nasync function getRandomMovie() {\n  const maxPages = 1; // maximum number of pages with movies in API\n  const randomPage = Math.floor(Math.random() * maxPages) + 1;\n  const url = `${BASE_URL}/movie/upcoming?api_key=${KEY}&page=${randomPage}`;\n  const response = await axios.get(url);\n  const randomMovie =\n    response.data.results[\n      Math.floor(Math.random() * response.data.results.length)\n    ];\n  return randomMovie;\n}\n\nasync function getGenres() {\n  const url = `${BASE_URL}/genre/movie/list?api_key=${KEY}`;\n  const response = await axios.get(url);\n  return response.data.genres;\n}\n\nasync function displayRandomMovie() {\n  const movie = await getRandomMovie();\n  const genres = await getGenres();\n  const genreNames = movie.genre_ids\n    .map(id => {\n      const genre = genres.find(g => g.id === id);\n      return genre ? genre.name : '';\n    })\n    .join(', ');\n\n  const movieCard = `\n    <div class=\"container movie-card \">\n    <h2 class=\"movie-card-title\">upcoming this mounth</h2>\n<div class=\"mo\">\n      <div class=\"movie-card__image\">\n      <img src=\"https://image.tmdb.org/t/p/original/${movie.backdrop_path}\" class=\"card__picture\" alt=\"${movie.title}\">\n      </div>\n      <div class=\"movie-card__content\">\n      <h2 class=\"movie-title\">${movie.title}</h2>\n      <div class=\"movie-card__mo\">\n      <div>\n      <p class=\"movie-date\">Release date: <span> ${movie.release_date} </span></p>\n      <p class=\"movie-vote\">Vote/Votes: <span class=\"movie-vote__span\">${movie.vote_average}</span>/<span>${movie.vote_count} </span></p>\n      </div>\n      <div>\n      <p class=\"movie-popularity\">Popularity:<span> ${movie.popularity} </span></p>\n      <p class=\"movie-genre\">Genre:<span> ${genreNames} </span></p>\n      </div>\n      </div>\n      <p class=\"movie-about\"> ABOUT </p>\n      <span class=\"movie-about__descr\"> ${movie.overview}</span>\n      <button type=\"button\" class=\"button-remind\">Remind me</button>\n      </div>\n    </div>\n    </div>\n  `;\n  const section = document.querySelector('.movie-container');\n  section.innerHTML = movieCard;\n}\n\nasync function callMovieCard() {\n  const response = getRandomMovie();\n  displayRandomMovie((await response).data);\n}\ncallMovieCard();\n\n// LOCAL\n"],"names":["$2shzp","parcelRequire","async","$7a8fb0f659835779$var$getRandomMovie","randomPage","Math","floor","random","url","$fPgXx","BASE_URL","KEY","response","default","get","data","results","length","$7a8fb0f659835779$var$displayRandomMovie","movie","genres","$7a8fb0f659835779$var$getGenres","genreNames","genre_ids","map","id","genre","find","g","name","join","movieCard","backdrop_path","title","release_date","vote_average","vote_count","popularity","overview","document","querySelector","innerHTML","$7a8fb0f659835779$var$callMovieCard"],"version":3,"file":"catalog.4db36ff0.js.map"}