{"mappings":"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","sources":["src/index.js","src/js/home.js","src/js/hero.js","node_modules/basiclightbox/dist/basicLightbox.min.js","src/js/home-weekly.js"],"sourcesContent":["import './js/global-modal';\nimport './js/render_footer_modal';\nimport './js/switcher-theme.js';\nimport './js/home';\nimport './js/hero';\nimport './js/mobile-menu';\nimport './js/scroll-to-top';\nimport './js/home-weekly';\n","import { KEY, UPCOMING_URL } from './api-key';\nimport { addMovieToLibrary } from './library';\n\nconst upcomingBlock = document.querySelector('.container__upcoming');\n\n// FETCH FOR UPCOMIG MOVIES\n\nfunction fetchUpcomingMovies() {\n  return fetch(`${UPCOMING_URL}?api_key=${KEY}&language=en-US&page=1`).then(\n    movieData => {\n      if (!movieData.ok) {\n        throw new Error(movieData.status);\n      }\n      return movieData.json();\n    }\n  );\n}\n\nfunction onClickRemind(event) {\n  const movieId = event.target.dataset.movieid;\n  addMovieToLibrary(movieId);\n}\n\nasync function getFetchedMovies() {\n  try {\n    const data = await fetchUpcomingMovies();\n    const returnedResult = data.results;\n    if (returnedResult.length >= 1) {\n      const randomMovie =\n        returnedResult[Math.floor(Math.random() * returnedResult.length)];\n      const genreNames = await getGenresById(randomMovie.genre_ids);\n      const createdMarkup = await renderMarkup({ ...randomMovie, genreNames });\n      upcomingBlock.insertAdjacentHTML('beforeend', createdMarkup);\n      document\n        .querySelector('.upcoming__remindme--btn')\n        .addEventListener('click', onClickRemind);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\ngetFetchedMovies();\n\nasync function renderMarkup({\n  id,\n  poster_path,\n  backdrop_path,\n  title,\n  overview,\n  popularity,\n  vote_average,\n  vote_count,\n  release_date,\n  genre_ids,\n}) {\n  const genreNames = await getGenresById(genre_ids);\n\n  return `\n    \n <div class=\"upcoming__card\">\n <div class=\"upcoming__thumb\">\n      \n      <picture class='upcoming__poster'>\n      <source srcset=\"https://image.tmdb.org/t/p/original/${backdrop_path}\" media=\"(min-width: 1200px)\" class='upcoming__poster-desktop' loading=\"lazy\"/>\n      <source srcset=\"https://image.tmdb.org/t/p/original/${backdrop_path}\" media=\"(min-width: 768px)\" class='upcoming__poster-tablet' loading=\"lazy\"/>\n      <source srcset=\"https://image.tmdb.org/t/p/original/${poster_path}\" media=\"(min-width: 320px)\" loading=\"lazy\"/>\n      <img src=\"https://image.tmdb.org/t/p/original/${poster_path}\" alt=\"Movie Poster\" style='width: 805px' loading=\"lazy\"/>\n    </picture>\n      </div>\n      </div>\n\n<div class=\"upcoming__info\">\n            <h2 class=\"upcoming__info--title\">${title}</h2>\n            <div class=\"upcoming__movie\">\n                <div class=\"upcoming__info--left\">\n                    <div class=\"upcoming__info--release\">\n                        <p class=\"upcoming__text\"> <span class =\"upcoming__light--black\">Release date</span> <span class=\"upcoming__info--release--date\">${release_date}</span></p>\n                    </div>\n                    <div class=\"upcoming__info--vote\">\n                        <p class=\"upcoming__text\"><span class =\"upcoming__light--black\">Vote/Votes</span>\n                        <div class=\"upcoming__info--votes\"><span class=\"upcoming__info--white\">${vote_average}</span> <span\n                                class=\"slash\">/</span>\n                            <span class=\"upcoming__info--white\">\n                               ${vote_count}</span>\n                        </div>\n                        </p>\n                    </div>\n                </div>\n                <div class=\"upcoming__info--right\">\n                    <div class=\"upcoming__info--pop\">\n                        <p class=\"upcoming__text\"> <span class =\"upcoming__light--black\">Popularity</span> <span class=\"upcoming__info--pop--range\">${popularity}</span> </p>\n                    </div>\n                    <div class=\"upcoming__info--genre\">\n                        <p class=\"upcoming__text\"><span class =\"upcoming__light--black\">Genre</span> <span class=\"upcoming__info--genre--kind\">${genreNames}</span> </p>\n                    </div>\n                </div>\n            </div>\n            <h2 class=\"upcoming__info--about\">ABOUT</h2>\n\n            <p class=\"upcoming__info--description\">${overview}</p>\n            <button class=\"upcoming__remindme--btn\" data-movieid=${id}  type=\"button\">Add to Library</button>\n        </div>\n\n   \n     `;\n}\n\nasync function getGenresById(genreIds) {\n  const BASE_URL = `https://api.themoviedb.org/3/genre/movie/list`;\n  const response = await fetch(`${BASE_URL}?api_key=${KEY}&language=en-US`);\n  const data = await response.json();\n\n  const genreNames = genreIds.map(genreId => {\n    const genre = data.genres.find(genre => genre.id === genreId);\n    return genre.name;\n  });\n\n  return genreNames.join(', ');\n}\n","import { getDayTrending, getVideos } from './api.js';\nimport * as basicLightbox from 'basiclightbox';\nimport { emptyStar, fullStar, halfStar } from './star';\n\nconst hero = document.querySelector('.hero');\n\nasync function displayTrendingMovie() {\n  try {\n    const { results } = await getDayTrending(1);\n    const movieOfDay = results[Math.floor(Math.random() * results.length)];\n\n    createTrendingMarkup(movieOfDay);\n\n    const trailerBtn = document.getElementById('trailer-btn');\n    trailerBtn.addEventListener('click', async () => {\n      try {\n        const videos = await getVideos(movieOfDay.id);\n        const infoTr = videos.find(el => el.name === 'Official Trailer');\n\n        if (!infoTr) {\n          throw new Error('Trailer not found');\n        }\n\n        const keyTr = infoTr.key;\n        const instance = basicLightbox.create(`\n          <iframe class=\"iframe\" src=\"https://www.youtube.com/embed/${keyTr}\" width=\"560\" height=\"315\" frameborder=\"0\"></iframe>\n        `);\n\n        instance.show(() => console.log('lightbox now visible'));\n      } catch (error) {\n        const instance = basicLightbox.create(`\n          <div class=\"notification-trailer-fail\">\n            <p class=\"notification-trailer-fail-text\">OOPS...<br/> We are very sorry!<br /> But we couldnâ€™t find the trailer.</p>\n            <button type=\"button\" class=\"btn-close\"><svg class=\"btn-close--svg\" width=24 height=24>\n            <use href='../../img/sprite.svg#icon-x-button'></use>\n        </svg>\n      </button>\n            <div class=\"bg-box\"></div>\n          </div>\n        `);\n\n        instance.show(() => console.log('lightbox now visible'));\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction createTrendingMarkup(movieOfDay) {\n  let ratingStars = '';\n\n  const rating = Math.round(movieOfDay.vote_average);\n\n  switch (rating) {\n    case 0:\n      ratingStars = `${emptyStar.repeat(5)}`;\n      break;\n    case 1:\n      ratingStars = `${halfStar}${emptyStar.repeat(4)}`;\n      break;\n    case 2:\n      ratingStars = `${fullStar}${emptyStar.repeat(4)}`;\n      break;\n    case 3:\n      ratingStars = `${fullStar}${halfStar}${emptyStar.repeat(3)}`;\n      break;\n    case 4:\n      ratingStars = `${fullStar.repeat(2)}${emptyStar.repeat(3)}`;\n      break;\n    case 5:\n      ratingStars = `${fullStar.repeat(2)}${halfStar}${emptyStar.repeat(2)}`;\n      break;\n    case 6:\n      ratingStars = `${fullStar.repeat(3)}${emptyStar.repeat(2)}`;\n      break;\n    case 7:\n      ratingStars = `${fullStar.repeat(3)}${halfStar}${emptyStar}`;\n      break;\n    case 8:\n      ratingStars = `${fullStar.repeat(4)}${emptyStar}`;\n      break;\n    case 9:\n      ratingStars = `${fullStar.repeat(4)}${halfStar}`;\n      break;\n    case 10:\n      ratingStars = `${fullStar.repeat(5)}`;\n      break;\n    default:\n      throw new Error('Invalid rating');\n  }\n  const markup = `\n    <div class=\"hero-wrap\">\n      <div class=\"thumb\">\n        <div class=\"background-image\">\n          <img src=\"https://image.tmdb.org/t/p/original${\n            movieOfDay.backdrop_path\n          }\" alt=\"Hero image\" class=\"backend\" loading=\"lazy\" />\n        </div>\n        <div class=\"hero-wrap__content\">\n          <h1 class=\"title\">${movieOfDay.title || movieOfDay.name}</h1>\n          <div class='start-rate__hero'>\n            ${ratingStars}\n          </div> \n          <p class=\"description\">${movieOfDay.overview}</p>\n          <button class=\"watch-trailer__btn\" id=\"trailer-btn\" data-btn=\"trailer-fail\">Watch trailer</button>\n        </div>\n      </div>\n    </div>\n  `;\n\n  hero.innerHTML = markup;\n}\n\ndisplayTrendingMovie();\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));","import axios from 'axios';\nimport { IMG_BASE_URL, BASE_URL, IMG_W400, KEY } from './api-key';\nimport { emptyStar, fullStar, halfStar } from './star';\n\nconst galleryList = document.querySelector('.gallery-weekly__list');\n\nfunction getTrendData() {\n  const URL =\n    'https://api.themoviedb.org/3/trending/movie/week?api_key=249f222afb1002186f4d88b2b5418b55';\n\n  return axios.get(URL).then(data => {\n    return data.data;\n  });\n}\n\nasync function getMovieGenres() {\n  const { data } = await axios.get(\n    `${BASE_URL}/genre/movie/list?api_key=${KEY}`\n  );\n  return data;\n}\n\nexport async function getGenres() {\n  const genres = await getMovieGenres().then(({ genres }) => genres);\n\n  return { genres };\n}\n\nfunction renderMarkup(results) {\n  getGenres().then(({ genres }) => {\n    if (results) {\n      results.forEach(film => {\n        const { genre_ids, release_date } = film;\n        genres.forEach(({ name, id }) => {\n          if (genre_ids.includes(id)) {\n            if (genre_ids.length > 2) {\n              genre_ids.splice(2, genre_ids.length - 1);\n            }\n            genre_ids.splice(genre_ids.indexOf(id), 1, name);\n          }\n          film.genre_names = genre_ids.join(', ');\n          if (film.release_date) {\n            film.release_date = release_date.slice(0, 4);\n          }\n        });\n      });\n      const markupList = createMarkup(results);\n      if (galleryList) {\n        galleryList.innerHTML = markupList;\n      }\n    }\n  });\n}\n\nfunction createMarkup(results) {\n  return results\n    .slice(0, 3)\n    .map(\n      ({\n        original_title,\n        release_date,\n        genre_ids,\n        poster_path,\n        vote_average,\n        id,\n      }) => {\n        let posterIMG = ``;\n        if (poster_path) {\n          posterIMG = `${IMG_BASE_URL}${IMG_W400}${poster_path}`;\n        }\n\n        let ratingStars = '';\n\n        const rating = Math.round(vote_average);\n\n        switch (rating) {\n          case 0:\n            ratingStars = `${emptyStar.repeat(5)}`;\n            break;\n          case 1:\n            ratingStars = `${halfStar}${emptyStar.repeat(4)}`;\n            break;\n          case 2:\n            ratingStars = `${fullStar}${emptyStar.repeat(4)}`;\n            break;\n          case 3:\n            ratingStars = `${fullStar}${halfStar}${emptyStar.repeat(3)}`;\n            break;\n          case 4:\n            ratingStars = `${fullStar.repeat(2)}${emptyStar.repeat(3)}`;\n            break;\n          case 5:\n            ratingStars = `${fullStar.repeat(2)}${halfStar}${emptyStar.repeat(\n              2\n            )}`;\n            break;\n          case 6:\n            ratingStars = `${fullStar.repeat(3)}${emptyStar.repeat(2)}`;\n            break;\n          case 7:\n            ratingStars = `${fullStar.repeat(3)}${halfStar}${emptyStar}`;\n            break;\n          case 8:\n            ratingStars = `${fullStar.repeat(4)}${emptyStar}`;\n            break;\n          case 9:\n            ratingStars = `${fullStar.repeat(4)}${halfStar}`;\n            break;\n          case 10:\n            ratingStars = `${fullStar.repeat(5)}`;\n            break;\n          default:\n            throw new Error('Invalid rating');\n        }\n        return ` <li class='gallery-weekly__list-elem hover-cursor' data-id='${id}'>           \n        <img class='gallery-weekly__image' src=\"${posterIMG}\" alt=\"${original_title}\" loading=\"lazy\" data-id='${id}'>\n       <div class='gallery-weekly__all-info'> \n        <div class=\"gallery-weekly__info\">\n            <h2 class= 'gallery-weekly__title'>${original_title}</h2>\n            <div class='cards-list_second_line'>\n              <div class='cards-list__text'>\n                <p>${genre_ids} | ${release_date}</p>\n              </div>\n            </div>\n        </div>\n        <div class='star-rate'>\n        ${ratingStars}\n</div>\n      </div>\n    </li>`;\n      }\n    )\n    .join('');\n}\nexport const getWeeklyTrends = getTrendData().then(({ results }) => {\n  return renderMarkup(results);\n});\n"],"names":["parcelRequire","$hM3Qt","$4f1c0259bbb55e68$var$upcomingBlock","document","querySelector","$4f1c0259bbb55e68$var$onClickRemind","event","movieId","target","dataset","movieid","$cHsZg","addMovieToLibrary","async","$4f1c0259bbb55e68$var$getGenresById","genreIds","response","fetch","KEY","data","json","map","genreId","genres","find","genre","id","name","join","returnedResult","UPCOMING_URL","then","movieData","ok","Error","status","results","length","randomMovie","Math","floor","random","genreNames","genre_ids","createdMarkup","poster_path","backdrop_path","title","overview","popularity","vote_average","vote_count","release_date","$4f1c0259bbb55e68$var$renderMarkup","insertAdjacentHTML","addEventListener","error","console","log","$4f1c0259bbb55e68$var$getFetchedMovies","$b7ONl","$9df926e0a287432e$exports","e","n","t","o","r","c","u","s","undefined","i","a","code","l","exports","call","Object","defineProperty","value","create","visible","arguments","createElement","innerHTML","trim","children","firstChild","tagName","ownerDocument","body","contains","concat","className","forEach","appendChild","classList","add","HTMLElement","Array","from","content","cloneNode","assign","closable","onShow","onClose","remove","setTimeout","parentElement","removeChild","element","show","requestAnimationFrame","close","$c519d076f6352209$var$hero","getDayTrending","movieOfDay","ratingStars","round","$7F964","emptyStar","repeat","halfStar","fullStar","markup","$c519d076f6352209$var$createTrendingMarkup","getElementById","infoTr","getVideos","el","keyTr","key","$c519d076f6352209$var$displayTrendingMovie","$dIxxU","$99fdfad4f1322eca$var$galleryList","$99fdfad4f1322eca$export$c5604fa8028da00","default","get","BASE_URL","$99fdfad4f1322eca$var$getMovieGenres","$99fdfad4f1322eca$var$renderMarkup","film","includes","splice","indexOf","genre_names","slice","markupList","original_title","posterIMG","IMG_BASE_URL","IMG_W400","$99fdfad4f1322eca$var$createMarkup"],"version":3,"file":"index.8e5cbe20.js.map"}